@model RegisterViewModel

@{
    ViewData["Title"] = "Create Account";
    Layout = "/Views/Shared/_DashboardLayout.cshtml";
}

<style>
    body {
        background-color: #f0f4f8;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .content-header h1 {
        color: #1a5f7a;
        font-weight: 600;
        border-bottom: 3px solid #1a5f7a;
        padding-bottom: 10px;
        margin-bottom: 30px;
    }

    .card {
        border: none;
        border-radius: 12px;
        box-shadow: 0 6px 15px rgba(26, 95, 122, 0.1);
        margin-bottom: 25px;
    }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(26, 95, 122, 0.15);
        }

    .card-body {
        padding: 30px;
    }

    .card-header {
        background-color: #3a86ff;
        color: white;
        border-top-left-radius: 12px;
        border-top-right-radius: 12px;
        padding: 20px;
    }

    .card-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 0;
    }

    .form-group {
        margin-bottom: 25px;
    }

    .form-control,
    .custom-select {
        background-color: #e6f2f7;
        border: 1px solid #8bc6db;
        color: #1a5f7a;
        border-radius: 8px;
        font-size: 1rem;
        transition: all 0.3s ease;
        width: 100%;
    }

        .form-control:focus,
        .custom-select:focus {
            background-color: #d1eaf3;
            border-color: #1a5f7a;
            box-shadow: 0 0 0 0.2rem rgba(26, 95, 122, 0.25);
        }

    label {
        color: #1a5f7a;
        font-weight: 600;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        font-size: 1rem;
    }

    .btn-primary {
        background-color: #1a5f7a;
        border-color: #1a5f7a;
        border-radius: 8px;
        padding: 12px 30px;
        text-transform: uppercase;
        font-weight: 600;
        margin-top: 30px;
        width: 100%;
        font-size: 1rem;
        transition: all 0.3s ease;
    }

        .btn-primary:hover {
            background-color: #13455a;
            border-color: #13455a;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

    .text-danger {
        font-size: 0.9rem;
        margin-top: 5px;
    }

    .alert-danger {
        background-color: #f8d7da;
        border-color: #f5c6cb;
        color: #721c24;
        border-radius: 8px;
        margin-bottom: 20px;
        padding: 15px;
    }

    .small-input {
        max-width: 100%;
        width: 200px;
    }
</style>

<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-12 text-center">
                <h1>Create New Staff Account</h1>
            </div>
        </div>
    </div>
</div>

<section class="content">
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-12">
                <div class="card">
                    <div class="card-header text-center">
                        <h3 class="card-title">Staff Account Details</h3>
                    </div>

                    <div id="successAlert" class="alert alert-success d-none" role="alert">
                        Consultation submitted successfully!
                    </div>

                    <div class="card-body">
                        <form asp-action="CreateUsers" method="post" id="CreateUsers" enctype="multipart/form-data" onsubmit="return handleSubmit(event)">
                            <div asp-validation-summary="ModelOnly" class="alert alert-danger" role="alert"></div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label asp-for="Email"><i class="fas fa-envelope mr-2"></i>Email</label>
                                        <input asp-for="Email" class="form-control" required maxlength="100" />
                                        <span asp-validation-for="Email" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label asp-for="Password"><i class="fas fa-lock mr-2"></i>Password</label>
                                        <input asp-for="Password" type="password" class="form-control" required maxlength="100" />
                                        <span asp-validation-for="Password" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label asp-for="First_Name"><i class="fas fa-user mr-2"></i>First Name</label>
                                        <input asp-for="First_Name" class="form-control" required maxlength="50" />
                                        <span asp-validation-for="First_Name" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label asp-for="Middle_Name"><i class="fas fa-user mr-2"></i>Middle Name</label>
                                        <input asp-for="Middle_Name" class="form-control" required maxlength="50" />
                                        <span asp-validation-for="Middle_Name" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label asp-for="Last_Name"><i class="fas fa-user mr-2"></i>Last Name</label>
                                        <input asp-for="Last_Name" class="form-control" required maxlength="50" />
                                        <span asp-validation-for="Last_Name" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label asp-for="Age"><i class="fas fa-birthday-cake mr-2"></i>Age</label>
                                        <input asp-for="Age" class="form-control small-input" required min="18" max="100" />
                                        <span asp-validation-for="Age" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label asp-for="IsMale"><i class="fas fa-venus-mars mr-2"></i>Gender</label>
                                        <select asp-for="IsMale" class="custom-select" required>
                                            <option value="">-- Select Gender --</option>
                                            <option value="true">Male</option>
                                            <option value="false">Female</option>
                                        </select>
                                        <span asp-validation-for="IsMale" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label asp-for="EmpNo"><i class="fas fa-id-badge mr-2"></i>Employee No.</label>
                                        <input asp-for="EmpNo" class="form-control" required maxlength="20" />
                                        <span asp-validation-for="EmpNo" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label asp-for="DateOfBirth"><i class="fas fa-calendar-alt mr-2"></i>Date of Birth</label>
                                        <input asp-for="DateOfBirth" type="date" class="form-control small-input" required />
                                        <span asp-validation-for="DateOfBirth" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label asp-for="Role"><i class="fas fa-users-cog mr-2"></i>Role</label>
                                        <select asp-for="Role" asp-items="ViewBag.Roles" class="custom-select small-input" required>
                                            <option value="">-- Select Role --</option>
                                        </select>
                                        <span asp-validation-for="Role" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>

                            <div class="text-center mt-4">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-user-plus mr-2"></i>Create Account
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    function handleSubmit(event) {
        if (document.getElementById("CreateUsers").checkValidity()) {
            document.getElementById("successAlert").classList.remove("d-none");
            setTimeout(() => document.getElementById("successAlert").classList.add("d-none"), 3000);
            return true;
        } else {
            event.preventDefault();
            return false;
        }
    }
</script>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
